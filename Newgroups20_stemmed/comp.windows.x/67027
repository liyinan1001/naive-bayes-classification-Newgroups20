subject colormap question hi expert i m kind of new to x the follow question is strang to me i am try to modifi the content of the colormap but fail without reason to me i am us the follow piec of code toplevel xtiniti argv testcolor null argc argv dpy xtdisplai toplevel scr defaultscreen dpy def colormap defaultcolormap dpy scr if xalloccolorcel dpy def colormap true null cell color pixel cell color red color green color blue color flag dore dogreen doblu xstorecolor dpy def colormap color printf n try to alloc the color d as d d d color pixel color red color green color blue xquerycolor dpy def colormap color printf n after alloc the color d is d d d color pixel color red color green color blue els printf n error couldn t alloc color cell run output try to alloc the color as after alloc the color is after xstorecolor xquerycolor just return the origin valu no failur error displai but the content of colormap ar obviou unchang i also tri to draw a line us the color but it turn out to be the unmodifi color so what is my problem how to modifi the content of the colormap ani help inform will be appreci pleas send mail to yang cs umass edu william email yang cs umass edu by the wai the follow is the environ i am us output of xdpyinfo it show the default visual is pseudocolor version number vendor string decwindow digitalequipmentcorpor uw vendor releas number maximum request size longword byte motion buffer size bitmap unit bit order pad lsbfirst imag byte order lsbfirst number of support pixmap format support pixmap format depth bit per pixel scanlin pad depth bit per pixel scanlin pad keycod rang minimum maximum number of extens adob dp extens dpsextens shape mit shm multi buffer xinputextens mit sundri nonstandard dec xtrap default screen number number of screen screen dimens x pixel x millimet resolut x dot per inch depth root window id x depth of root window plane number of colormap minimum maximum default colormap x default number of colormap cell prealloc pixel black white option back store ye save under ye current input event mask xd d keypressmask buttonpressmask buttonreleasemask enterwindowmask substructureredirectmask propertychangemask colormapchangemask number of visual default visual id x visual visual id x class pseudocolor depth plane size of colormap entri red green blue mask x x x signific bit in color specif bit visual visual id x class grayscal depth plane size of colormap entri red green blue mask x x x signific bit in color specif bit visual visual id x class staticgrai depth plane size of colormap entri red green blue mask x x x signific bit in color specif bit visual visual id x class staticcolor depth plane size of colormap entri red green blue mask x x xc signific bit in color specif bit visual visual id x class truecolor depth plane size of colormap entri red green blue mask x x xc signific bit in color specif bit number of mono multibuff type visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x visual id max buffer depth x number of stereo multibuff type 