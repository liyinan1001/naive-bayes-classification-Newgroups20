subject how to see characterset from wchar t we develop a toolkit run on the x window system the toolkit cope with ani languag base on x r s i n facil as you know there ar kind of i n implement from mit s x r releas xsi and ximp our origin implement of the toolkit us xsi our toolkit manag each charact s size base on our own font manag system in order to do that the wchar t type charact string must be decompos to charact set thi mean that if on wchar t type compound string with ascii and kanji mix for exampl is given each element of the wchar t arrai must be check it correspond charact set base on a bit layout and applic environ s local in thi case if the local is japanes each wchar t charact will be classifi either to iso jisx or so we need a function to do thi the function must check how mani charact from the top ar the same charact set and what the charact set is we could not find ani public x r function to do that and inevit us xsi s intern function to construct that function the follow is the sourc code of that function decomposecharacterset i n h thi mai look like c code but it is realli c id i n h v iima exp iima ifndef i n h defin i n h includ x xlib h extern int decomposecharacterset const wchar t wc str in int wc len in char buf out int buflen in out int scan len out char charset out extern xmstring wchartoxmstr const wchar t wc str extern xmstringcharset charsetofwchar const wchar t wc endif i n h i n cc id i n cc v iima exp includ stdlib h includ x xlibint h includ xm xm h includ i n h extern c includ x wchar h defin xwcdecomposeglyphcharset xxx xwcdecomposeglyphcharset defin xmbfsc xxx xmbfsc defin xmbctidtocsid xxx xmbctidtocsid includ xlocaleint h undef xwcdecomposeglyphcharset undef xmbfsc undef xmbctidtocsid extern int xwcdecomposeglyphcharset xlocal const wchar t int char int int int extern charset xmbfsc xlocal csid extern csid xmbctidtocsid xlocal csid int decomposecharacterset const wchar t wc str in int wc len in char buf out int buf len in out int scan len out char charset out xlocal xlocal xfallbackconvert int ctid int statu charset xcharset statu xwcdecomposeglyphcharset xlocal wc str wc len buf buf len scan len ctid if statu success xcharset xmbfsc xlocal xmbctidtocsid xlocal ctid charset xcharset xcharset cs name null els charset null return statu an includ file abov xlocaleint h is also xsi intern and we copi the file to the toolkit directori and compil a seriou issu occur when we tri to compil a toolkit applic on our hp machin with it os version of hp ux when we tri to link an applic base on our toolkit link error occur sai that the follow function ar miss xmbctidtocsid code xmbfsc code xwcdecomposeglyphcharset code xfallbackconvert code we had us mit releas version of x r and it xsi implement until hp up and ran applic successfulli on of the reason to us xsi wa that becaus hp did not releas hp s x r until the os and we had no wai to know how hp s r would be implement we had hope xsi s popular and us it intern function the hp s linker complain that there ar no xsi intern function implement we observ from hp s libx a thei us some ximp implement but we ar not sure if thei us mit s vanilla ximp version or their own version of ximp and therefor find just counter part function in mit s ximp for xsi doe not seem to lead us a solut my question and goal is to know how we can construct a function like decomposecharacterset list abov is there ani function to check charact set of each element of wchar t type string depend on local if it is a public function that is perfect but even if it is not we want to us ani intern function in hp s x r as we did for mit s r in order to render a wchar t type string there must be some machineri to judg charact set and that is how the proper font ar select for the string we have no wai to find out that without ani hp s x r sourc file we want to know how we can us that for our goal ani help or comment would be highli appreci i also appreci if anyon tell me about ximp treat around thi area even if it is not hp s implement thank you takeshi inou inou crd yokogawa co jp yokogawa electr corpor open system laboratori 