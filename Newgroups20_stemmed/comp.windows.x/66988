subject r tabl widget caus troubl with xtquerygeometri content problem with tabl widget in r the follow part of a program an user interfac for a simul system did work in r but refus to in r of caus the r version did not know about the xptablewidgetclass we us tablewidgetclass instead caught from the net in time of r and xptablechildposit formerli xttblposit sinc compil with r the program caus a zero width or height error on sparc station the troubl shooter is the re comput of the model init tabl tabl widget though it child label and asciitext widget exist xtquerygeometri return a prefer width and height of zero thu the follow asign cannot perform anyth els but set the width and height of the newli creat widget to zero no wonder xtpopup or xtmanag child creat zero width or height error depend on whether width and height of the shell widget ar set in the resourc file or not question doe anyon know why xtquerygeometri return so low prefer valu when work on tabl widget or perhap what to do about i ll be happi if someon is abl to help me german ar request to answer in german siegfri kaiser email kaiser uniko uni koblenz de the part of interest graphisch neuaufbau de model init formular store the old width and height of the viewport widget which is the parent of the troubl tabl widget befor the viewport widget is destroi the destroi of widget befor resiz them is a relict from r ag if model init pop up xtunmapwidget model init form view xtdestroywidget model init form view creat the subtre within the shell of which the root is the viewport widget n xtsetarg arg n xtnfromvert model init titl n xtsetarg arg n xtnfromhoriz model init button view n xtsetarg arg n xtnallowvert true n xtsetarg arg n xtnforcebar true n model init form view xtcreatewidget form view viewportwidgetclass model init form arg n n model init tabl xtcreatewidget tabl xptablewidgetclass model init form view arg n creat form widget doe creat and posit tabl widget s child to posit them it us xptabl childposit in r and xttblposit in r creat form widget ptr model init obj model init tabl the crucial function call intend to return the maximum height possibl if there isn t suffici space to show the whole tabl widget then the viewport shall grow as larg as possibl but not beyond the border of screen if there is enough space the window is intend to shrienk to the smallest possibl height xtquerygeometri model init tabl null pref accord to the algorithm idea the new valu of viewport widget s height is select unfortun pref height lead to new height if form view height pref height new height pref height els new height form view height set the new valu to viewport widget ancestor w xtnametowidget model init form form view xtresizewidget w width new height pref border width xtresizewidget model init form view width new height pref border width if model init pop up in case the shell which contain model init form view and model init tabl allreadi exist is ha to be resiz too n xtsetarg arg n xtnwidth shell width n xtsetarg arg n xtnheight shell height n xtsetarg arg n xtnborderwidth shell bw n xtgetvalu model init shell arg n xtresizewidget model init shell shell width shell height height new height shell bw end of if n xtsetarg arg n xtnwidth width n xtsetarg arg n xtnborderwidth bw n xtgetvalu model init button view arg n xtresizewidget model init button view width new height bw xtresizewidget vert bar sbar width sbar bw resiz init if there is the shell s height set within the resourc file the program termin within the first xtmanagechild on it second pass through the observ function the first pass succe xtmanagechild model init form view xtmanagechild model init tabl if model init pop up in case the shell isn t pop up it ha to be done if there is no valu set to the shell s height within the resourc file the program termin here xtpopup model init shell xtgrabnon model init pop flag true set model init attribut end of if get actual init ptr actual load form ptr actual if someon suspect the creation of tabl widget s content caus all the troubl there ar the sourc of creat form creat form widget ptr tabl t obj ptr widget tabl ptr is a linear list contain attribut and para meter of the model and addition the correspon ding widget arg arg int n row col t obj ptr obj t ident ptr ident initi of the local variabl ptr obj ptr col row schleif ueber die objekt bzw da pseudo objekt fuer die paramet loop through the list of object and pseudo object everi object occur in the model ha zero or more attribut and some paramet which can be share by sever object becaus of local the attribut of on object ar list in a second linear list of type t ident wherea the paramet which can belong to ani ob ject ar put togeth in a pseudo object thu the program loop through the list of object and pseudo object and for each object through the list of it attribut resp paramet while ptr obj t obj null each object and pseudo object is repres in a label widget n xtsetarg arg n xtnlabel ptr obj name n ptr obj label w xtcreatemanagedwidget object labelwidgetclass tabl arg n xptablechildposit ptr obj label w col row col row ptr ident ptr obj ident schleif ueber die objekt attribut bzw paramet while ptr ident t ident null each attribut and paramet is repres in a label and ha a correspond asciitext widget in which it is to be initi n xtsetarg arg n xtnlabel ptr ident name n ptr ident label w xtcreatemanagedwidget ident labelwidgetclass tabl arg n xptablechildposit ptr ident label w col row col n xtsetarg arg n xtnlength row length n xtsetarg arg n xtnstring ptr ident text n xtsetarg arg n xtnedittyp xawtextedit n xtsetarg arg n xtnwrap xawtextwrapword n xtsetarg arg n xtnresiz xawtextresizeheight n xtsetarg arg n xtnusestringinplac true n ptr ident text w xtcreatemanagedwidget text asciitextwidgetclass tabl arg n xptablechildposit ptr ident text w col row col row get next ident ptr ident end of while col get next obj ptr obj end of while end of creat form widget so far the problem in detail 